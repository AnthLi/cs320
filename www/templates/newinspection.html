<ion-view view-title="Inspection Form">
  <ion-content class="content">
    <!---.................................................................
    ...........................INSPECTION INFO............................
    ...................................................................-->
    <form id="new-form" ng-submit="processForm()">
      <div class="info">
        <ion-item class="button button-full button-positive" disabled style="opacity: 1.0">
          INSPECTION INFO
        </ion-item>

        <!--
        The ng-repeat here significantly shortened the code for the new
        insepction. Rather than having each field have its own place here,
        ng-repeat allowed for the dynamic creation of the fields instead
        -->
        <div class="row" ng-repeat="field in fields">
          <div class="col form-group">
            <label class="item item-input">
              <input type="text" class="form-control" name="{{field.name[0]}}" ng-model="formData[field.model[0]]" placeholder="{{field.temp[0]}}" required>
            </label>
          </div>

          <div class="col form-group">
            <label class="item item-input">
              <input type="text" class="form-control" name="{{field.name[1]}}" ng-model="formData[field.model[1]]" placeholder="{{field.temp[1]}}" required>
            </label>
          </div>
        </div>

        <div class="row">
          <div class="col form-group">
            <label class="item item-input item-stacked-label">
              <span class="input-label">
                Time In:
              </span>

              <input type="time" class="form-control" ng-model="formData.timein" placeholder="" required>
            </label>
          </div>

          <div class="col form-group">
            <label class="item item-input item-stacked-label">
              <span class="input-label">
                Time Out:
              </span>

              <input type="time" class="form-control" ng-model="formData.timeout" placeholder="" required>
            </label>
          </div>
        </div>

        <div class="row">
          <div class="col form-group">
            <ion-checkbox name="haccp" id="haccp" ng-model="haccp" ng-click="!haccp; formData.HACCP = 'Y'">
              HACCP
            </ion-checkbox>
          </div>
        </div>

        <div class="row">
          <div class="col form-group">
            <div class="list">
              <label class="item item-input item-select">
                <div class="input-label">
                  Type of Operation:
                </div>

                <select class="form-control" ng-model="formData.typeofOp">
                  <option>Food Service</option>
                  <option>Retail</option>
                  <option>Residential Kitchen</option>
                  <option>Mobile</option>
                  <option>Temporary</option>
                  <option>Caterer</option>
                  <option>Bed & Breakfast</option>
                </select>
              </label>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col form-group">
            <div class="list">
              <label class="item item-input item-select">
                <div class="input-label">
                  Type of Inspection:
                </div>

                <select class="form-control" ng-model="formData.typeofInsp">
                  <option>Routine</option>
                  <option>Re-Inspection</option>
                </select>
              </label>
            </div>
          </div>
        </div>
      </div>

      <!---.................................................................
      ...........................VIOLATIONS.................................
      ...................................................................-->
      <div class="violations">
        <ion-item class="button button-full button-assertive" disabled style="opacity: 1.0">
          VIOLATIONS
        </ion-item>
        <a href="#/page/newinspection/addviolation" class="button icon-left ion-plus-circled button-outline button-assertive button-medium">
          Add Violation
        </a>

        <div>
          <h5>Violations</h5>
          <div ng-repeat="v in checkedV">
            {{v}}
          </div>
        </div>

        <div>
          <h5>Corrective Actions</h5>
          <div ng-repeat="ca in checkedCA">
            {{ca}}
          </div>
        </div>
      </div>

      <!---.................................................................
      ...........................SIGNATURE..................................
      ...................................................................-->
      <div class="signature">
        <ion-item class="button button-full button-dark" disabled style="opacity: 1.0">
          SIGNATURE
        </ion-item>

        <div class="sig row">
          <div class="col">
            <button class="sigline button icon-left ion-android-close button-clear button-stable button-medium">
              ________________________________________
            </button>
          </div>

          <div class="col">
            <button class="sigline button icon-left ion-android-close button-clear button-stable button-medium">
              ________________________________________
            </button>
          </div>
        </div>
      </div>

      <a id="savecontinue" class="button icon-right ion-chevron-right button-balanced" ng-click="processForm()">
        Save & Continue
      </a>
    </form>
  </ion-content>
</ion-view>